"use strict";const e=require("../../common/vendor.js"),n=require("../../api/index.js");Math||x();const x=()=>"./components/btnGroup.js",h=e.defineComponent({__name:"index",setup(b){const d=e.ref(["/static/imgs/index/1.png","/static/imgs/index/2.png","/static/imgs/index/3.png","/static/imgs/index/4.png"]),u=e.useStore(),g=t=>{console.log(t)};e.onMounted(()=>{p(),e.uni.showShareMenu({withShareTicket:!0})});const p=async()=>{var c;let t="";const o=await _();t=(await m((c=o.provider)==null?void 0:c[0])).code;const i=await n.getAccessToken(t),l=(await n.getOpenId(i.data.data.access_token)).data.data.open_id,s=await n.getUserInfo(l),w=await n.getTenantInfo();await n.getDepartmentInfo(s.data.data.user.department_ids[0]);const r={userinfo:s.data.data.user,tenantinfo:w.data.data.tenant};console.log("obj---",r),u.commit("user/infoChange",r)},_=async()=>await e.uni.getProvider({service:"oauth"}),m=async t=>(console.log("provider---",t),await e.uni.login({provider:t,univerifyStyle:{fullScreen:!0}}));return(t,o)=>({a:e.f(d.value,(a,i,f)=>({a})),b:e.o(g)})}}),v=e._export_sfc(h,[["__file","D:/test/homeEconomics/pages/index/index.vue"]]);tt.createPage(v);
